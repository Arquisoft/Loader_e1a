/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
ALTER TABLE Users DROP CONSTRAINT FK_Users_TIPO_ID
ALTER TABLE Agent DROP CONSTRAINT FK_Agent_TIPO_ID
DROP TABLE AgentType
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
INSERT INTO AGENTTYPE VALUES(1,'aux',1)
INSERT INTO AGENT VALUES(1,'auxiliar@uniovi.es','aux345543',NULL,'Auxiliar',1)
COMMIT
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
ALTER TABLE Users DROP CONSTRAINT FK_Users_TIPO_ID
ALTER TABLE Agent DROP CONSTRAINT FK_Agent_TIPO_ID
DROP TABLE AgentType
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
ALTER TABLE Users DROP CONSTRAINT FK_Users_TIPO_ID
ALTER TABLE Agent DROP CONSTRAINT FK_Agent_TIPO_ID
DROP TABLE AgentType
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
ALTER TABLE Users DROP CONSTRAINT FK_Users_TIPO_ID
ALTER TABLE Agent DROP CONSTRAINT FK_Agent_TIPO_ID
DROP TABLE AgentType
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
ALTER TABLE Users DROP CONSTRAINT FK_Users_TIPO_ID
ALTER TABLE Agent DROP CONSTRAINT FK_Agent_TIPO_ID
DROP TABLE AgentType
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
ALTER TABLE Users DROP CONSTRAINT FK_Users_TIPO_ID
ALTER TABLE Agent DROP CONSTRAINT FK_Agent_TIPO_ID
DROP TABLE AgentType
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
INSERT INTO AGENTTYPE VALUES(1,'aux',1)
INSERT INTO AGENT VALUES(1,'auxiliar@uniovi.es','aux345543',NULL,'Auxiliar',1)
COMMIT
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
ALTER TABLE Users DROP CONSTRAINT FK_Users_TIPO_ID
ALTER TABLE Agent DROP CONSTRAINT FK_Agent_TIPO_ID
DROP TABLE AgentType
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
ALTER TABLE Users DROP CONSTRAINT FK_Users_TIPO_ID
ALTER TABLE Agent DROP CONSTRAINT FK_Agent_TIPO_ID
DROP TABLE AgentType
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
/*C31*/SET SCHEMA PUBLIC
ALTER TABLE Users DROP CONSTRAINT FK_Users_TIPO_ID
ALTER TABLE Agent DROP CONSTRAINT FK_Agent_TIPO_ID
DROP TABLE AgentType
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
ALTER TABLE Users DROP CONSTRAINT FK_Users_TIPO_ID
ALTER TABLE Agent DROP CONSTRAINT FK_Agent_TIPO_ID
DROP TABLE AgentType
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
ALTER TABLE Users DROP CONSTRAINT FK_Users_TIPO_ID
ALTER TABLE Agent DROP CONSTRAINT FK_Agent_TIPO_ID
DROP TABLE AgentType
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
DISCONNECT
/*C36*/SET SCHEMA PUBLIC
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
ALTER TABLE Users DROP CONSTRAINT FK_Users_TIPO_ID
ALTER TABLE Agent DROP CONSTRAINT FK_Agent_TIPO_ID
DROP TABLE AgentType
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
INSERT INTO AGENTTYPE VALUES(1,'aux',1)
INSERT INTO AGENT VALUES(1,'auxiliar@uniovi.es','aux345543',NULL,'Auxiliar',1)
COMMIT
DISCONNECT
/*C38*/SET SCHEMA PUBLIC
DISCONNECT
/*C39*/SET SCHEMA PUBLIC
ALTER TABLE Users DROP CONSTRAINT FK_Users_TIPO_ID
ALTER TABLE Agent DROP CONSTRAINT FK_Agent_TIPO_ID
DROP TABLE AgentType
DROP TABLE Users
DROP TABLE Agent
CREATE TABLE AgentType (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE_TIPO VARCHAR(255), TIPO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE Users (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE Agent (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, EMAIL VARCHAR(255), IDENTIFICADOR VARCHAR(255) NOT NULL, LOCALIZACION VARCHAR(255), NOMBRE VARCHAR(255), TIPO_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE AgentType ADD CONSTRAINT UNQ_AgentType_2 UNIQUE (TIPO)
ALTER TABLE Users ADD CONSTRAINT UNQ_Users_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Agent ADD CONSTRAINT UNQ_Agent_2 UNIQUE (IDENTIFICADOR)
ALTER TABLE Users ADD CONSTRAINT FK_Users_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
ALTER TABLE Agent ADD CONSTRAINT FK_Agent_TIPO_ID FOREIGN KEY (TIPO_ID) REFERENCES AgentType (ID)
INSERT INTO AGENTTYPE VALUES(1,'aux',1)
INSERT INTO AGENT VALUES(1,'auxiliar@uniovi.es','aux345543',NULL,'Auxiliar',1)
COMMIT
DISCONNECT
